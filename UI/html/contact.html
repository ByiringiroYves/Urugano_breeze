!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <title>GOGO Home & Apartment</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="Yves Byiringiro" content="">
      <link rel="icon" href="/assets/images/tablogo.png" type="image/png"/> <!-- Corrected Path -->
      <link rel="stylesheet" href="/css/bootstrap.min.css"> <!-- Corrected Path -->
      <link rel="stylesheet" href="/css/style.css"> <!-- Corrected Path -->
      <link rel="stylesheet" href="/css/responsive.css"> <!-- Corrected Path -->
      <link rel="icon" href="/assets/images/fevicon.png" type="image/gif" /> <!-- Corrected Path -->
      <link rel="stylesheet" href="/css/jquery.mCustomScrollbar.min.css"> <!-- Corrected Path -->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      </head>
   <body class="main-layout">
      <div class="loader_bg">
         <div class="loader"><img src="/assets/images/loading.gif" alt="#"/></div> <!-- Corrected Path -->
      </div>
      <header>
         <div class="header">
            <div class="container">
               <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col logo_section">
                     <div class="full">
                        <div class="center-desk">
                           <div class="logo">
                              <a href="/">
                                 <img src="/assets/images/logo.png" alt="#" /> <!-- Corrected Path -->
                              </a>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-9 col-lg-9 col-md-9 col-sm-9">
                     <nav class="navigation navbar navbar-expand-md navbar-dark ">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarsExample04">
                           <ul class="navbar-nav mr-auto">
                              <li class="nav-item ">
                                 <a class="nav-link" href="/">Home</a> <!-- Corrected Link -->
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="/about">About</a> <!-- Corrected Link -->
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="/apartments">Our Apartments</a> <!-- Corrected Link -->
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="/gallery">Gallery</a> <!-- Corrected Link -->
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="/testimonial">testimonial</a> <!-- Corrected Link -->
                              </li>
                              <li class="nav-item active">
                                 <a class="nav-link" href="/contact">Contact Us</a> <!-- Corrected Link -->
                              </li>
                           </ul>
                        </div>
                     </nav>
                  </div>
               </div>
            </div>
         </div>
      </header>
      <div class="back_re">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <div class="title">
                      <h2>Contact Us</h2>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="contact">
         <div class="container">
            <div class="row">
               <div class="col-md-6">
                  <form id="request" class="main_form">
                     <div class="row">
                       <div class="col-md-12">
                         <input class="contactus" placeholder="Name" type="text" name="Name" />
                       </div>
                       <div class="col-md-12">
                         <input class="contactus" placeholder="Email" type="email" name="Email" />
                       </div>
                       <div class="col-md-12">
                         <input class="contactus" placeholder="Phone Number" type="text" name="Phone Number" />
                       </div>
                       <div class="col-md-12">
                         <textarea class="textarea" placeholder="Message" name="Message"></textarea>
                       </div>
                       <div class="col-md-12">
                         <p class="error-message" style="color: red;"></p>
                       </div>
                       <div class="col-md-12">
                         <button type="submit" class="send_btn">Send</button>
                       </div>
                     </div>
                   </form>                   
               </div>
               <div class="col-md-6">
                  <div class="map_main">
                     <div class="map-responsive">
                        <iframe src="https://www.google.com/maps/embed/v1/place?key=AIzaSyA0s1a7phLN0iaD6-UE7m4qP-z21pH0eSc&q=URUGANO+BREEZE+APARTMENTS+Rwanda" width="600" height="400" frameborder="0" style="border:0; width: 100%;" allowfullscreen=""></iframe>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <footer>
         <div class="footer">
            <div class="container">
               <div class="row">
                  <div class=" col-md-4">
                     <h3>Contact US</h3>
                     <ul class="conta">
                        <li><i class="fa fa-map-marker" aria-hidden="true"></i> 255G+HXR, KK 24 Ave, Kigali</li>
                        <li><i class="fa fa-mobile" aria-hidden="true"></i> +45 40641002</li>
                        <li> <i class="fa fa-envelope" aria-hidden="true"></i><a href="#"> sales@gogovillas.com</a></li>
                     </ul>
                  </div>
                  <div class="col-md-4">
                     <h3>Menu Link</h3>
                     <ul class="link_menu">
                        <li class="active"><a href="/">Home</a></li> <!-- Corrected link -->
                        <li><a href="/about">About</a></li> <!-- Corrected link -->
                        <li><a href="/apartments">Our Apartments</a></li> <!-- Corrected link -->
                        <li><a href="/gallery">Gallery</a></li> <!-- Corrected link -->
                        <li><a href="/testimonial">testimonial</a></li> <!-- Corrected link -->
                        <li><a class="nav-link" href="/contact">Contact Us</a></li> <!-- Corrected link -->
                     </ul>
                  </div>
                  <div class="col-md-4">
                     <h3>Visit our instagram page</h3>
                     <form class="bottom_form">
                        <input class="enter" placeholder="Enter your email" type="text" name="Enter your email">
                        <button class="sub_btn">subscribe</button>
                     </form>
                     <ul class="social_icon">
                        
                        <li><a href="https://www.instagram.com/urugano_breeze_apartment/profilecard/?igsh=b3IyZ2xvaXZlY3c3"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>

                     </ul>
                  </div>
               </div>
            </div>
            <div class="copyright">
               <div class="container">
                  <div class="row">
                     <div class="col-md-10 offset-md-1">
                        <p>Â© 2024 All Rights Reserved. Gogo Villas</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </footer>
      <script src="/js/jquery.min.js"></script> <!-- Corrected Path -->
      <script src="/js/bootstrap.bundle.min.js"></script> <!-- Corrected Path -->
      <script src="/js/jquery-3.0.0.min.js"></script> <!-- Corrected Path -->
      <script src="/js/jquery.mCustomScrollbar.concat.min.js"></script> <!-- Corrected Path -->
      <script src="/js/custom.js"></script> <!-- Corrected Path -->
      <script>
         const API_BASE_URL = "https://backend-service-432219336422.us-central1.run.app/api"; // Production Backend
         const LOCAL_API_BASE_URL = "http://localhost:8080/api"; // Development Backend

         document.getElementById('request').addEventListener('submit', async function (event) {
            event.preventDefault();
          
            const name = document.querySelector('input[name="Name"]').value.trim();
            const email = document.querySelector('input[name="Email"]').value.trim();
            const phoneNumber = document.querySelector('input[name="Phone Number"]').value.trim();
            const message = document.querySelector('textarea[name="Message"]').value.trim();
          
            const errorMessage = document.querySelector('.error-message');
            errorMessage.textContent = ''; // Clear previous error
          
            // Validate required fields
            if (!name || !email || !phoneNumber || !message) {
              errorMessage.textContent = 'All fields are required.';
              return;
            }

            // Determine which API URL to use
            const currentHostname = window.location.hostname;
            let baseUrl = API_BASE_URL; // Default to production
            if (currentHostname === 'localhost' || currentHostname === '127.0.0.1') {
                baseUrl = LOCAL_API_BASE_URL;
            }

            try {
              const response = await fetch(`${baseUrl}/contact`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name, email, phoneNumber, message }),
              });
          
              if (response.ok) {
                alert('Your inquiry has been sent successfully!');
                document.getElementById('request').reset(); // Reset form
              } else {
                const error = await response.json();
                errorMessage.textContent = error.error || 'Failed to send inquiry.';
              }
            } catch (error) {
              console.error('Error sending inquiry:', error);
              errorMessage.textContent = 'An error occurred while sending the inquiry.';
            }
          });           
      </script>
   </body>
</html>
