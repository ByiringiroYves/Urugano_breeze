<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <title>Payment</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="Yves Byiringiro" content="">
      <link rel="icon" href="../assets/images/tablogo.png" type="image/png"/>
      <link rel="stylesheet" href="../css/bootstrap.min.css">
      <link rel="stylesheet" href="../css/style.css">
      <link rel="stylesheet" href="../css/responsive.css">
      <link rel="icon" href="../assets/images/fevicon.png" type="image/gif" />
      <link rel="stylesheet" href="../css/jquery.mCustomScrollbar.min.css">
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      </head>
   <body class="main-layout">
      <div class="loader_bg">
         <div class="loader"><img src="../assets/images/loading.gif" alt="#"/></div>
      </div>
      <header>
         <div class="header">
            <div class="container">
               <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col logo_section">
                     <div class="full">
                        <div class="center-desk">
                           <div class="logo">
                              <a href="../index.html"><img src="../assets/images/logo.png" alt="#" /></a>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-9 col-lg-9 col-md-9 col-sm-9">
                     <nav class="navigation navbar navbar-expand-md navbar-dark ">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarsExample04">
                           <ul class="navbar-nav mr-auto">
                              <li class="nav-item ">
                                 <a class="nav-link" href="../index.html">Home</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="about.html">About</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="apartments.html">Our Apartments</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="gallery.html">Gallery</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="testimonial.html">testimonial</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link" href="contact.html">Contact Us</a>
                              </li>
                           </ul>
                        </div>
                     </nav>
                  </div>
               </div>
            </div>
         </div>
      </header>
      <div class="back_re">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <div class="title">
                    <h2>Payment</h2>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <div class="Payment">
          <div class="container payment">

            <div class="d-flex justify-content-between align-items-center my-4">
               </div>

           <form action="#" id="paymentForm" method="post" class="needs-validation" novalidate>

            <div class="row">

                <div class="col">
                    <h3 class="title">Billing Address</h3>

                    <div class="inputBox">
                        <label for="name">Full Name:</label>
                        <input type="text" id="name" placeholder="Enter your full name" required>
                    </div>

                    <div class="inputBox">
                        <label for="email">Email:</label>
                        <input type="email" id="email" placeholder="Enter email address" required> </div>
                    <div class="inputBox">
                     <label for="mobile">Mobile Number:</label> <input type="tel" id="mobile" placeholder="+45 40 64 10 02" required> </div>

                    <div class="inputBox">
                        <label for="address">Address:</label>
                        <input type="text" id="address" placeholder="Enter address" required>
                    </div>

                    <div class="inputBox">
                        <label for="city">City:</label>
                        <input type="text" id="city" placeholder="Enter city" required>
                    </div>
                    <div class="inputBox">
                     <label for="propertyName">Property Name:</label>
                     <input type="text" id="propertyName" placeholder="" required> </div>


                </div>
                <div class="col">
                    <h3 class="title">Payment</h3>

                    <div class="inputBox">
                        <label for="cardAccepted">Card Accepted:</label> <img src="../assets/images/card.png" alt="credit/debit card image" id="cardAccepted">
                    </div>

                    <div class="inputBox">
                        <label for="cardName">Name On Card:</label>
                        <input type="text" id="cardName" placeholder="Enter card name" required>
                    </div>

                    <div class="inputBox">
                        <label for="cardNum">Credit Card Number:</label>
                        <input type="text" id="cardNum" placeholder="1111-2222-3333-4444" maxlength="19" required>
                    </div>

                    <div class="inputBox">
                        <label for="expMonth">Exp Month:</label> <select name="expMonth" id="expMonth" required> <option value="">Choose month</option>
                            <option value="01">January (01)</option>
                            <option value="02">February (02)</option>
                            <option value="03">March (03)</option>
                            <option value="04">April (04)</option>
                            <option value="05">May (05)</option>
                            <option value="06">June (06)</option>
                            <option value="07">July (07)</option>
                            <option value="08">August (08)</option>
                            <option value="09">September (09)</option>
                            <option value="10">October (10)</option>
                            <option value="11">November (11)</option>
                            <option value="12">December (12)</option>
                        </select>
                    </div>


                    <div class="flex">
                        <div class="inputBox">
                            <label for="expYear">Exp Year:</label> <select name="expYear" id="expYear" required> <option value="">Choose Year</option>
                                <option value="2024">2024</option>
                                <option value="2025">2025</option>
                                <option value="2026">2026</option>
                                <option value="2027">2027</option>
                                <option value="2028">2028</option>
                                <option value="2029">2029</option>
                                <option value="2030">2030</option>
                                <option value="2031">2031</option>
                                <option value="2032">2032</option>
                                <option value="2033">2033</option>
                                <option value="2034">2034</option>
                                <option value="2035">2035</option>
                            </select>
                        </div>

                        <div class="inputBox">
                            <label for="cvv">CVV</label>
                            <input type="number" id="cvv" placeholder="123" maxlength="4" required> </div>
                    </div>
                    <div class="inputBox">
                     <label for="TotalAmount">Total Amount To be paid at the property :</label>
                     <input type="text" id="TotalAmount" placeholder="" required>
                 </div>
                </div>

            </div>
            <button type="button" value="Proceed to Checkout" class="submit_btn">Proceed to Checkout</button>

           </form>
         </div>
      </div>
      <div class="modal fade" id="consentModal" tabindex="-1" role="dialog" aria-labelledby="consentModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered modal-xl" role="document"> <div class="modal-content">
             <div class="modal-header">
               <h5 class="modal-title" id="consentModalLabel">Confidential Information Consent</h5>
               <button type="button" class="close" id="vanillaCloseBtn" aria-label="Close">
                 <span aria-hidden="true">&times;</span>
               </button>
             </div>
             <div class="modal-body">
               <p>You are about to share with us your credit/debit card info.</p>
               <p>This info is automatically deleted on our system on your departure time.</p>
               <p>Please confirm that you agree to proceed and that the details entered are correct.</p>
               </div>
             <div class="modal-footer">
               <button type="button" class="btn btn-secondary" id="vanillaCancelBtn">Cancel</button>
               <button type="button" class="btn btn-primary" id="confirmSubmitBtn">Confirm and Proceed</button>
             </div>
           </div>
         </div>
       </div>
      <footer>
         <div class="footer">
            <div class="container">
               <div class="row">
                  <div class=" col-md-4">
                     <h3>Contact US</h3>
                     <ul class="conta">
                        <li><i class="fa fa-map-marker" aria-hidden="true"></i> 255G+HXR, KK 24 Ave, Kigali</li>
                        <li><i class="fa fa-mobile" aria-hidden="true"></i> +45 40641002</li>
                        <li> <i class="fa fa-envelope" aria-hidden="true"></i><a href="#"> sales@gogovillas.com</a></li>
                     </ul>
                  </div>
                  <div class="col-md-4">
                     <h3>Menu Link</h3>
                     <ul class="link_menu">
                        <li><a href="../index.html">Home</a></li> <li><a href="about.html"> about</a></li>
                        <li><a href="apartments.html">Our Apartments</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="testimonial.html">testimonial</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                     </ul>
                  </div>
                  <div class="col-md-4">
                     <h3>Visit our instagram page</h3>
                     <form class="bottom_form">
                        <input class="enter" placeholder="Enter your email" type="text" name="Enter your email">
                        <button class="sub_btn">subscribe</button>
                     </form>
                     <ul class="social_icon">
                        <li><a href="https://www.instagram.com/urugano_breeze_apartment/profilecard/?igsh=b3IyZ2xvaXZlY3c3"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="copyright">
               <div class="container">
                  <div class="row">
                     <div class="col-md-10 offset-md-1">
                        <p>Â© 2024 All Rights Reserved. Gogo Villas</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
       </footer>
       
       <script src="../js/jquery.min.js"></script>
       <script src="../js/bootstrap.bundle.min.js"></script>
       <script src="../js/jquery.mCustomScrollbar.concat.min.js"></script> 
       <script src="../js/custom.js"></script>

       <script>
           let cardNumInput = document.querySelector('#cardNum');
           if(cardNumInput) {
             cardNumInput.addEventListener('keyup', () => {
                 let cNumber = cardNumInput.value.replace(/\s/g, "").replace(/\D/g,'');
                 let formattedNumber = cNumber.match(/.{1,4}/g);
                 if (formattedNumber) {
                     cardNumInput.value = formattedNumber.join(" ");
                 } else {
                     cardNumInput.value = '';
                 }
                 if (cNumber.length > 16) {
                   cardNumInput.value = cardNumInput.value.slice(0, 19);
                }
             });
           }

           let cvvInput = document.querySelector('#cvv');
           if(cvvInput) {
             cvvInput.addEventListener('input', () => {
                 if (cvvInput.value.length > 4) {
                     cvvInput.value = cvvInput.value.slice(0, 4);
                 }
             });
           }
       </script>

       <script>
           document.addEventListener('DOMContentLoaded', () => {
               const params = new URLSearchParams(window.location.search);
               const propertyNameValue = params.get('apartmentName');
               const totalAmountValue = params.get('totalAmount');
               const propertyInput = document.getElementById('propertyName');
               const amountInput = document.getElementById('TotalAmount');

               if (propertyInput && propertyNameValue) {
                   propertyInput.value = decodeURIComponent(propertyNameValue);
                   propertyInput.readOnly = true;
                   propertyInput.style.backgroundColor = '#e9ecef';
                   propertyInput.style.cursor = 'not-allowed';
               }

               if (amountInput && totalAmountValue) {
                   amountInput.value = `US$${totalAmountValue}`;
                   amountInput.readOnly = true;
                   amountInput.style.backgroundColor = '#e9ecef';
                   amountInput.style.cursor = 'not-allowed';
               }
           });
       </script>
       
       <script>
            function closeConsentModal() {
                const consentModal = document.getElementById('consentModal');
                const backdrop = document.querySelector('.modal-backdrop');

                // 1. Remove the backdrop
                if (backdrop) {
                    backdrop.parentNode.removeChild(backdrop);
                }

                // 2. Hide modal by removing 'show' class and resetting style
                consentModal.classList.remove('show');
                consentModal.style.display = 'none';
                
                // 3. Restore body scrolling
                document.body.classList.remove('modal-open');
            }
       </script>

       <script>
           $(document).ready(function() {
               const paymentForm = $('#paymentForm');
               const consentModal = $('#consentModal');
               const confirmBtn = $('#confirmSubmitBtn');
               const checkoutBtn = $('.submit_btn');

                // jQuery to show the modal
               checkoutBtn.on('click', function(event) {
                   event.preventDefault(); 
                   if (paymentForm[0].checkValidity() === false) {
                       paymentForm.addClass('was-validated'); 
                   } else {
                       consentModal.modal('show');
                   }
               });

                // jQuery to handle the CONFIRM button
               confirmBtn.on('click', function() {
                   // Call our new vanilla JS function to close the modal
                   closeConsentModal();
                   // Submit the form
                   paymentForm[0].submit();
               });

               // --- Attaching event listeners with Vanilla JS ---
               const vanillaCancel = document.getElementById('vanillaCancelBtn');
               const vanillaClose = document.getElementById('vanillaCloseBtn');

               if(vanillaCancel) {
                  vanillaCancel.addEventListener('click', closeConsentModal);
               }
               if(vanillaClose) {
                  vanillaClose.addEventListener('click', closeConsentModal);
               }
           });
       </script>

   </body>
</html>